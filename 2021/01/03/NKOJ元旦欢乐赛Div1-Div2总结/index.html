<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 5.4.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"example.com",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:"mac"},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!0,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,lazyload:!1,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.json"}</script><meta name="description" content="div1初中组，div2高中组。"><meta property="og:type" content="article"><meta property="og:title" content="NKOJ元旦欢乐赛Div1总结"><meta property="og:url" content="http://example.com/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/index.html"><meta property="og:site_name" content="zqs&#96;s blog"><meta property="og:description" content="div1初中组，div2高中组。"><meta property="og:locale" content="zh_CN"><meta property="article:published_time" content="2021-01-03T12:20:57.000Z"><meta property="article:modified_time" content="2021-01-19T09:56:59.113Z"><meta property="article:author" content="zqs菜鸡"><meta property="article:tag" content="比赛"><meta name="twitter:card" content="summary"><link rel="canonical" href="http://example.com/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>NKOJ元旦欢乐赛Div1总结 | zqs`s blog</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div> <a target="_blank" rel="noopener" href="https://github.com/ioiakzqs" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70b7fd;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">zqs`s blog</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">有朋自远方来，虽远必诛</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-fw fa-home"></i> 首页</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://example.com/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="zqs菜鸡"><meta itemprop="description" content="反正是个菜鸡"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="zqs`s blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> NKOJ元旦欢乐赛Div1总结</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2021-01-03 20:20:57" itemprop="dateCreated datePublished" datetime="2021-01-03T20:20:57+08:00">2021-01-03</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2021-01-19 17:56:59" itemprop="dateModified" datetime="2021-01-19T17:56:59+08:00">2021-01-19</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-folder-o"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E6%AF%94%E8%B5%9B/" itemprop="url" rel="index"><span itemprop="name">比赛</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-comment-o"></i></span> <span class="post-meta-item-text">Valine：</span><a title="valine" href="/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/" itemprop="commentCount"></span></a></span></div></header><div class="post-body" itemprop="articleBody"><p>div1初中组，div2高中组。</p><span id="more"></span><p>老板：你既是初中生，也是高中生。</p><p><del>然而我只是个无辜的小六生。</del></p><h2 id="赛时过程："><a href="#赛时过程：" class="headerlink" title="赛时过程："></a>赛时过程：</h2><p>其实Div1和Div2都做得烂爆了qwq。</p><p>Div1前三道一看签到题，爆切了直接过。</p><p>然后后面的题卡死了……</p><p>比赛最后十分钟发现E看错题了，瞬间想到正解，可是有什么用呢，于是比赛就这样结束了。</p><p>于是我除了签到题就是爆零了。/kk</p><p>比赛后评讲是只用了一半时间就AK的银牌爷<a target="_blank" rel="noopener" href="https://www.luogu.com.cn/user/38685">deaf</a>，stO deaf Orz,deafAKIOI是我们的神，deaf太强了，deafAKIOIeveryday</p><h2 id="赛后题解："><a href="#赛后题解：" class="headerlink" title="赛后题解："></a>赛后题解：</h2><p>A题：$n$ 个球，每个球标有一个数字，问你最少修改多少个小球上的数字能使得最多有 $k$ 个不同数字出现在小球上。</p><p>纯签到送分。直接放代码。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">200002</span>];</span><br><span class="line">std::priority_queue&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, k, <span class="built_in">t</span>(<span class="number">0</span>), <span class="built_in">len</span>(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, a + i);</span><br><span class="line">std::<span class="built_in">sort</span>(a + <span class="number">1</span>, a + n + <span class="number">1</span>);</span><br><span class="line">a[<span class="number">0</span>] = a[<span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; ++ i) <span class="keyword">if</span> (a[i] != a[i - <span class="number">1</span>]) q.<span class="built_in">push</span>(len), len = <span class="number">1</span>; <span class="keyword">else</span> ++ len;</span><br><span class="line">q.<span class="built_in">push</span>(len);</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(n)</span></span>;</span><br><span class="line"><span class="keyword">while</span> (q.<span class="built_in">size</span>() &amp;&amp; k --) ans -= q.<span class="built_in">top</span>(), q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>B题：一个 $n$ 层的数字金字塔上有 $n(n+1)\div 2$ 个非负整数。当一个数字的左上方和右上方没有数字时就可以被取走。现在要取走恰好 $k$ 个数，并且使拿走的最小数最小。请你帮忙计算，可能取走的最小数是多少。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> a[<span class="number">210</span>][<span class="number">210</span>], mark[<span class="number">210</span>][<span class="number">210</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (mark[x][y]) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">mark[x][y] = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span> (x == <span class="number">1</span> &amp;&amp; y == <span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (y == <span class="number">1</span>) <span class="keyword">return</span> <span class="built_in">dfs</span>(x - <span class="number">1</span>, <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (x == y) <span class="keyword">return</span> <span class="built_in">dfs</span>(x - <span class="number">1</span>, y - <span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> <span class="built_in">dfs</span>(x - <span class="number">1</span>, y - <span class="number">1</span>) + <span class="built_in">dfs</span>(x - <span class="number">1</span>, y) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, k, <span class="built_in">ans</span>(<span class="number">0x7fffffff</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;k);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i) <span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(<span class="number">1</span>); j &lt;= i; ++ j) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i][j]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i) <span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(<span class="number">1</span>); j &lt;= i; ++ j) <span class="keyword">if</span> (a[i][j] &lt; ans) &#123;</span><br><span class="line"><span class="built_in">memset</span>(mark, <span class="number">0</span>, <span class="keyword">sizeof</span> mark);</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">dfs</span>(i, j) &lt;= k) ans = a[i][j];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>C题，不想说题面了qwq：</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node X) <span class="keyword">const</span> &#123;<span class="keyword">return</span> x &lt; X.x;&#125;</span><br><span class="line">&#125; a[<span class="number">500005</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &lt; y ? x : y;&#125;</span><br><span class="line"><span class="keyword">bool</span> mark[<span class="number">500005</span>][<span class="number">7</span>];</span><br><span class="line">std::priority_queue&lt;node&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> m, n, <span class="built_in">ans</span>(<span class="number">0LL</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;m, &amp;n);</span><br><span class="line">mark[<span class="number">1</span>][<span class="number">0</span>] = mark[<span class="number">1</span>][<span class="number">1</span>] = mark[<span class="number">1</span>][<span class="number">2</span>] = mark[<span class="number">1</span>][<span class="number">3</span>] = mark[<span class="number">1</span>][<span class="number">4</span>] = mark[<span class="number">1</span>][<span class="number">5</span>] = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i) <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;a[i].x, &amp;a[i].y), q.<span class="built_in">push</span>(a[i]);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">0</span>); i &lt;= m; ++ i) &#123;</span><br><span class="line"><span class="keyword">if</span> (q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, ans);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(<span class="number">0</span>); j &lt;= <span class="number">5</span>; ++ j) <span class="keyword">if</span> (mark[i][j]) &#123;</span><br><span class="line"><span class="function">node <span class="title">t</span><span class="params">(q.top())</span></span>;</span><br><span class="line"><span class="keyword">if</span> (i + q.<span class="built_in">top</span>().y - <span class="number">1</span> &lt;= m) mark[i + t.y][j] = <span class="literal">true</span>, ans += t.x * t.y, q.<span class="built_in">pop</span>();</span><br><span class="line"><span class="keyword">else</span> ans += t.x * (m - i + <span class="number">1</span>), q.<span class="built_in">pop</span>(), q.<span class="built_in">push</span>(node &#123;t.x, t.y - (m - i + <span class="number">1</span>)&#125;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>D题：</p><p>将 $n$ 拆分为若干个分数 $\frac{a_i}{b_i}$ 的和，满足以下条件：</p><ul><li>$a_i, b_i$ 都是正整数</li><li>$b_i$ 是 $n$ 的约数</li><li>$b_i$ 严格单调递增<br>求方案数 $mod 2^{31}$。</li></ul><p>赛场上想到了正解的一半，讲完了觉得真的是个大水题。</p><p>就把每个因数看成背包乱搞。理论上有 $O(\sqrt{n})$ 个因数。然而众所周知这个上界完全是假的，实际情况也就 $O(logn)$ 的常数倍左右而已，所以可以轻松通过。</p><p>这题都没做出来，我真是个菜逼。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> f[<span class="number">1000005</span>], p[<span class="number">2005</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%lld&quot;</span>, &amp;n);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(n - <span class="number">1</span>); i &gt;= <span class="number">2</span>; -- i) <span class="keyword">if</span> (n % i == <span class="number">0</span>) p[++ cnt] = i;</span><br><span class="line">f[<span class="number">0</span>] = <span class="number">1LL</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= cnt; ++ i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(p[i]); j &lt; n; ++ j) f[j] += f[j - p[i]], f[j] %= (<span class="number">1</span> &lt;&lt; <span class="number">31</span>);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, f[n - <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>E题：</p><p>不说了这题看题问题没搞出来题目都懒得说。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &gt; y ? x : y;&#125;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Line</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> l, r;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> Line x) <span class="keyword">const</span> &#123;<span class="keyword">return</span> l &lt; x.l;&#125;</span><br><span class="line">&#125; a[<span class="number">300005</span>], b[<span class="number">300005</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> cnta, cntb;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">signed</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m, <span class="built_in">ans</span>(<span class="number">0LL</span>), <span class="built_in">MaxR</span>(<span class="number">0LL</span>), <span class="built_in">len</span>(<span class="number">0LL</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;n, &amp;m);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i) &#123;</span><br><span class="line"><span class="keyword">int</span> x, y;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">x &lt;= y ? a[++ cnta] = Line &#123;x, y&#125; : b[++ cntb] = Line &#123;y, x&#125;;</span><br><span class="line">&#125;</span><br><span class="line">std::<span class="built_in">sort</span>(a + <span class="number">1</span>, a + cnta + <span class="number">1</span>), std::<span class="built_in">sort</span>(b + <span class="number">1</span>, b + cntb + <span class="number">1</span>);</span><br><span class="line">ans = m;</span><br><span class="line"><span class="keyword">if</span> (cntb == <span class="number">0</span>) <span class="keyword">return</span> <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>, ans), <span class="number">0</span>;</span><br><span class="line">MaxR = b[<span class="number">1</span>].r, len = b[<span class="number">1</span>].r - b[<span class="number">1</span>].l;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">2</span>); i &lt;= cntb; ++ i) <span class="keyword">if</span> (b[i].r &gt; MaxR)</span><br><span class="line">len += b[i].r - <span class="built_in">max</span>(MaxR, b[i].l), MaxR = b[i].r;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lld\n&quot;</span>, ans + (len &lt;&lt; <span class="number">1</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>F题：</p><p>整场比赛唯一一道难题。</p><p>NKOJ上一共有 $n$ 道题，题目编号 $1$ 到 $n$，每道题都有一个难度系数，第 $i$ 题的难度系数为正整数 $p_i$。</p><p>NK信竞队总共有 $m$ 名同学，编号 $1$ 到 $m$。何老板给每个同学都安排了解题任务。其中第 $i$ 号同学的任务是在编号在 $a_i$ 到 $b_i$ 之间的题中，任选一道，并刷掉它。</p><p>不过，NK的同学们都很懒，他们总会选难度最低的题来做，每个同学都有一个解题能力值 $c_i$，同学们是不会去做难度系数超过其解题能力的题的。比如第 $i$ 号同学会从 $[a_i, b_i]$ 中选难度系数最低的题出来，如果这个题的难度系数大于 $c_i$，号同学就会放弃 解题，进入自闭状态，并表示自己”太菜了”。<br>同学们的解题习性让何老板很是烦恼，何老板想给每道题都设定一个合适的难度系数，使得同学们完成的题目的难度系数总和尽量大。</p><p>请你帮助何老板设定每道题的难度系数，并计算出所有人完成题目的难度系数总和的最大值。</p><p><del>首先题目非常真实好评。</del></p><p>非常好也很妙的题，考试里就deafakioi一个人做出来。</p><p>先猜一猜复杂度（滑稽），$O(n^2m)$ or $O(n^3m)$</p><p>是一道关于线段覆盖的题目。首先应该想到区间DP，<del>然而我太弱了没想到</del>。</p><p>显然每道题的难度只为设为所有 $c_i$ 中的一个。</p><p>状态：$f[i][j]$ 表示做题区间<strong>完全包含</strong>在 $[i,j]$ 中的同学完成的题目难度系数最大的总和。</p><p>方程：$f[i][j] = max${$f[i][k - 1] + f[k + 1][j] + S$}$(i\le k\le j)$</p><p>$S$ 表示所有经过 $k$ 的线段的最大难度系数总和。</p><p>然而有问题，因为我们不知道 $[i,k-1],[k+1,j]$ 里是否有更简单的题。</p><p>所以修改状态：$f[i][j][x]$ 表示做题区间完全包含在 $[i,j]$ 中的同学完成的题目难度系数最大的总和，且最简单的一道题难度为 $x$。将每道题的难度（$c_i$）离散化一下。</p><p>方程：$f[i][j][x] = max${$g[i][k - 1][x] + g[k + 1][j][x] + S$}$(i\le k\le j)$</p><p>其中 $g[i][j][x]$ 表示所有 $f[i][j][k]$ 的最大值，$k\ge x$。</p><p>其中，$x$ 为完全包含在区间 $[i,j]$ 内的线段的难度系数。$S$ 为所有经过点 $k$ 并且被完全包含在 $[i,j]$ 内的线段的数量乘上 $x$。</p><p>现在只有一个问题，就是 $S$ 怎么算？</p><p>神爷deaf给我们讲了这东西的套路：$h[i][j]$ 表示完全包含在 $[i,j]$ 内的区间数量。则完全包含在 $[i,j]$ 中且经过点 $k$ 的线 段数量为 $h[i][j]-h[i][k-1]-h[k+1][j]$。我们用区间数量乘上 $x$ 就行了。$h[i][j]$ 可以很简单地预处理出来。</p><p>时间复杂度 $O(n^3m)$</p><p>差不多完事了？</p><h1 id="Code"><a href="#Code" class="headerlink" title="$Code:$"></a>$Code:$</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">node</span> &#123;</span></span><br><span class="line"><span class="keyword">int</span> l, r, x, p;</span><br><span class="line"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> node X) &#123;<span class="keyword">return</span> x &lt; X.x;&#125;</span><br><span class="line">&#125; a[<span class="number">4001</span>];</span><br><span class="line"><span class="keyword">int</span> f[<span class="number">51</span>][<span class="number">51</span>][<span class="number">4001</span>], g[<span class="number">51</span>][<span class="number">51</span>][<span class="number">4001</span>], h[<span class="number">51</span>][<span class="number">51</span>][<span class="number">4001</span>], Key[<span class="number">4001</span>];</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &gt; y ? x : y;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &lt; y ? x : y;&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= m; ++ i) <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;a[i].l, &amp;a[i].r, &amp;a[i].x);</span><br><span class="line">std::<span class="built_in">sort</span>(a + <span class="number">1</span>, a + m + <span class="number">1</span>);</span><br><span class="line">Key[a[<span class="number">1</span>].p = <span class="number">1</span>] = a[<span class="number">1</span>].x;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">2</span>); i &lt;= m; ++ i)</span><br><span class="line">Key[a[i].p = (a[i].x != a[i - <span class="number">1</span>].x) + a[i - <span class="number">1</span>].p] = a[i].x;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">k</span>(<span class="number">1</span>); k &lt;= m; ++  k)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= a[k].l; ++ i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(a[k].r); j &lt;= n; ++ j) ++ h[i][j][a[k].p];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++ i)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">j</span>(i); j &lt;= n; ++ j)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">k</span>(a[m].p - <span class="number">1</span>); k; -- k)</span><br><span class="line">h[i][j][k] += h[i][j][k + <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">l</span>(<span class="number">1</span>); l &lt;= n; ++ l)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n - l + <span class="number">1</span>; ++ i) &#123;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">j</span><span class="params">(i + l - <span class="number">1</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">x</span>(<span class="number">1</span>); x &lt;= m; ++ x) <span class="keyword">if</span> (a[x].l &gt;= i &amp;&amp; a[x].r &lt;= j) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">k</span>(i); k &lt;= j; ++ k)</span><br><span class="line">g[i][j][a[x].p] = f[i][j][a[x].p] = <span class="built_in">max</span>(f[i][j][a[x].p], g[i][k - <span class="number">1</span>][a[x].p]</span><br><span class="line">+ g[k + <span class="number">1</span>][j][a[x].p] + (h[i][j][a[x].p] - h[i][k - <span class="number">1</span>][a[x].p] -</span><br><span class="line">h[k + <span class="number">1</span>][j][a[x].p]) * Key[a[x].p]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">x</span>(a[m].p - <span class="number">1</span>); x; -- x) g[i][j][x] = <span class="built_in">max</span>(g[i][j][x], g[i][j][x + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">ans</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= a[m].p; ++ i) ans = <span class="built_in">max</span>(ans, f[<span class="number">1</span>][n][i]);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, ans);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>G题：</p><p>有点意思，但是不难，这题一眼看上去数论难题又排在最后一位，我没敢看，结果其实不难。</p><p><a target="_blank" rel="noopener" href="https://www.luogu.com.cn/problem/P1758">传送门</a></p><p>首先，让我们求平方和肯定是有原因的嘛QAQ（（（</p><p>可以看成两个装置同时取珠，两个装置输出了相同的序列则答案加一。<br><del>这个很好理解吧（（（</del></p><p>然后：$f[i][j][x][y]$ 表示第一个装置上管道取到了 $i$ 个珠子，下管道取到了 $j$ 个珠子，第二个装置同理。</p><p>因为 $i+j=x+y$，所以最后那一维可以不要。</p><p>最后滚动一下就好了。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD = <span class="number">1024523</span>;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">max</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &gt; y ? x : y;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">min</span><span class="params">(<span class="keyword">const</span> <span class="keyword">int</span> x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">return</span> x &lt; y ? x : y;&#125;</span><br><span class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">upd</span><span class="params">(<span class="keyword">int</span>&amp; x, <span class="keyword">const</span> <span class="keyword">int</span> y)</span> </span>&#123;<span class="keyword">if</span> ((x += y) &gt;= MOD) x -= MOD;&#125;</span><br><span class="line"><span class="keyword">char</span> a[<span class="number">501</span>], b[<span class="number">501</span>];</span><br><span class="line"><span class="keyword">int</span> dp[<span class="number">2</span>][<span class="number">501</span>][<span class="number">501</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d\n%s\n%s&quot;</span>, &amp;n, &amp;m, a + <span class="number">1</span>, b + <span class="number">1</span>);</span><br><span class="line">std::<span class="built_in">reverse</span>(a + <span class="number">1</span>, a + n + <span class="number">1</span>), std::<span class="built_in">reverse</span>(b + <span class="number">1</span>, b + m + <span class="number">1</span>);</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="keyword">int</span> <span class="built_in">i</span>(<span class="number">0</span>); i &lt;= n; ++ i) &#123;</span><br><span class="line">int t(i &amp; 1), t2(i - 1 &amp; 1);</span><br><span class="line"><span class="built_in">memset</span>(dp[t], <span class="number">0</span>, <span class="keyword">sizeof</span> dp[t]);</span><br><span class="line"><span class="keyword">if</span> (i == <span class="number">0</span>) dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="keyword">int</span> <span class="built_in">j</span>(<span class="number">0</span>); j &lt;= m; ++ j)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="keyword">int</span> <span class="built_in">k</span>(<span class="built_in">max</span>(<span class="number">0</span>, i + j - m)); k &lt;= <span class="built_in">min</span>(i + j, n); ++ k) &#123;</span><br><span class="line">int l(i + j - k), &amp;f(dp[t][j][k]);</span><br><span class="line"><span class="keyword">if</span> (i &amp;&amp; k &amp;&amp; a[i] == a[k]) <span class="built_in">upd</span>(f, dp[t2][j][k - <span class="number">1</span>]);</span><br><span class="line"><span class="keyword">if</span> (i &amp;&amp; l &amp;&amp; a[i] == b[l]) <span class="built_in">upd</span>(f, dp[t2][j][k]);</span><br><span class="line"><span class="keyword">if</span> (j &amp;&amp; k &amp;&amp; b[j] == a[k]) <span class="built_in">upd</span>(f, dp[t][j - <span class="number">1</span>][k - <span class="number">1</span>]);</span><br><span class="line"><span class="keyword">if</span> (j &amp;&amp; l &amp;&amp; b[j] == b[l]) <span class="built_in">upd</span>(f, dp[t][j - <span class="number">1</span>][k]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, dp[n &amp; <span class="number">1</span>][m][n]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div><div style="text-align:center;color:#ccc;font-size:14px">-------------本文结束<i class="fa fa-paw"></i>感谢您的阅读-------------</div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> zqs大傻逼</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="http://example.com/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/" title="NKOJ元旦欢乐赛Div1总结">http://example.com/2021/01/03/NKOJ元旦欢乐赛Div1-Div2总结/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/%E6%AF%94%E8%B5%9B/" rel="tag"><i class="fa fa-tag"></i> 比赛</a></div><div class="post-nav"><div class="post-nav-item"><a href="/2020/12/26/%E6%B4%9B%E8%B0%B7-P4182-%E3%80%90-USACO18JAN-Lifeguards-P%E3%80%91/" rel="prev" title="洛谷 P4182 【[USACO18JAN]Lifeguards P】"><i class="fa fa-chevron-left"></i> 洛谷 P4182 【[USACO18JAN]Lifeguards P】</a></div><div class="post-nav-item"> <a href="/2021/01/14/1-13-match-summary/" rel="next" title="1/13树状数组专项练习赛总结">1/13树状数组专项练习赛总结<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%9B%E6%97%B6%E8%BF%87%E7%A8%8B%EF%BC%9A"><span class="nav-number">1.</span> <span class="nav-text">赛时过程：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%B5%9B%E5%90%8E%E9%A2%98%E8%A7%A3%EF%BC%9A"><span class="nav-number">2.</span> <span class="nav-text">赛后题解：</span></a></li></ol><li class="nav-item nav-level-1"><a class="nav-link" href="#Code"><span class="nav-number"></span> <span class="nav-text">$Code:$</span></a></li></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">zqs菜鸡</p><div class="site-description" itemprop="description">反正是个菜鸡</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">53</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">13</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/ioiakzqs" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;ioiakzqs" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i> GitHub</a></span><span class="links-of-author-item"><a href="https://gitee.com/zqs2020" title="Gitee → https:&#x2F;&#x2F;gitee.com&#x2F;zqs2020" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i> Gitee</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/jvruo_shabi" title="CSDN → https:&#x2F;&#x2F;blog.csdn.net&#x2F;jvruo_shabi" rel="noopener" target="_blank"><i class="fa fa-fw fa-book"></i> CSDN</a></span><span class="links-of-author-item"><a href="https://www.luogu.com.cn/user/361308" title="洛谷 → https:&#x2F;&#x2F;www.luogu.com.cn&#x2F;user&#x2F;361308" rel="noopener" target="_blank"><i class="fa fa-fw fa-code"></i> 洛谷</a></span></div><div class="cc-license motion-element" itemprop="license"> <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a></div><div style=""><canvas id="canvas" style="width:60%">当前浏览器不支持canvas，请更换浏览器后再试</canvas></div><script>!function(){var t,o=[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]],e=document.getElementById("canvas");if(e.getContext){var l=e.getContext("2d");e.height=100,e.width=700,l.fillStyle="#f00",l.fillRect(10,10,50,50);var r=[],f=[],i=e.height/20-1;function n(t,e){for(var n=0;n<o[e].length;n++)for(var a=0;a<o[e][n].length;a++)1==o[e][n][a]&&(l.beginPath(),l.arc(14*(i+2)*t+2*a*(i+1)+(i+1),2*n*(i+1)+(i+1),i,0,2*Math.PI),l.closePath(),l.fill())}function h(t,e){for(var n=[1,2,3],a=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],l=0;l<o[e].length;l++)for(var r=0;r<o[e][l].length;r++)if(1==o[e][l][r]){var h={x:14*(i+2)*t+2*r*(i+1)+(i+1),y:2*l*(i+1)+(i+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*n[Math.floor(Math.random()*n.length)],color:a[Math.floor(Math.random()*a.length)],disY:1};f.push(h)}}t=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),r.push(t[1],t[2],10,t[3],t[4],10,t[5],t[6]),clearInterval(a);var a=setInterval(function(){!function(){var t=[],e=/(\d)(\d):(\d)(\d):(\d)(\d)/.exec(new Date),n=[];n.push(e[1],e[2],10,e[3],e[4],10,e[5],e[6]);for(var a=r.length-1;0<=a;a--)n[a]!==r[a]&&t.push(a+"_"+(Number(r[a])+1)%10);for(a=0;a<t.length;a++)h.apply(this,t[a].split("_"));r=n.concat()}(),function(){for(var t=0;t<f.length;t++)f[t].stepY+=f[t].disY,f[t].x+=f[t].stepX,f[t].y+=f[t].stepY,(f[t].x>700+i||f[t].y>100+i)&&(f.splice(t,1),t--)}(),function(){e.height=100;for(var t=0;t<r.length;t++)n(t,r[t]);for(t=0;t<f.length;t++)l.beginPath(),l.arc(f[t].x,f[t].y,i,0,2*Math.PI),l.fillStyle=f[t].color,l.closePath(),l.fill()}()},50)}}()</script></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-user"></i></span> <span class="author" itemprop="copyrightHolder">zqs菜鸡</span></div><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="fa fa-eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script size="300" alpha="0.6" zindex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><script src="//cdn.jsdelivr.net/gh/fancyapps/fancybox@3/dist/jquery.fancybox.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script defer="defer" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three.min.js"></script><script defer="defer" src="//cdn.jsdelivr.net/gh/theme-next/theme-next-three@1/three-waves.min.js"></script><script src="/js/local-search.js"></script><script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><script src="//cdn.jsdelivr.net/npm/quicklink@1/dist/quicklink.umd.js"></script><script>
      window.addEventListener('load', () => {
      quicklink({
        timeout : 3000,
        priority: true,
        ignores : [uri => uri.includes('#'),uri => uri === 'http://example.com/2021/01/03/NKOJ%E5%85%83%E6%97%A6%E6%AC%A2%E4%B9%90%E8%B5%9BDiv1-Div2%E6%80%BB%E7%BB%93/',]
      });
      });
  </script><script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : 'Ttn6wpyi3PGFvGaXy67O0CB7-gzGzoHsz',
      appKey     : 'hVx8JDoum8iYxMFoDaum95Ih',
      placeholder: "stO Orz",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script><script type="text/javascript" src="/js/fold_action.js"></script><script type="text/javascript" src="/js/love.js"></script></body></html>